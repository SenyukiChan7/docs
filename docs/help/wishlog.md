# 祈愿记录

::: tip 提示
此功能在现阶段有很严重的性能问题
:::

## 云备份

寻空提供祈愿记录的云备份功能，**但是不能保证服务的可靠性**。

云备份功能使用 **从您本地原神日志中找到的祈愿记录网址** 验证账号所有权，验证通过即可从服务器中 `下载`、`上传`、`删除` 相关 Uid 的祈愿记录。

服务器没有冗余备份，定期备份由阿里云提供。

## 导入

支持从 Excel 文件或 Json 文件导入祈愿记录，每次只能导入一个账号的数据，导入文件的格式要求如下：

### Excel 文件

导入的 Excel 文件需要包含名为`原始数据`的工作表，该表的内容符合以下格式（列顺序不做要求）：

| uid       | gacha_type | id                  | item_type | lang  | name       | rank_type | time                 |
| --------- | ---------- | ------------------- | --------- | ----- | ---------- | --------- | -------------------- |
| 123456789 | 100        | 1613307960000763747 | 武器      | zh-cn | 神射手之誓 | 3         | 2021-02-14  21:50:21 |

::: warning 警告
以上格式中的列**必须**存在，每一列**必须**要有值，没有值的**必须**补上，否则会出现 DbUpdateException 错误。
:::

### Json 文件

寻空会遍历 Json 文件的每个元素，文件中只需包含以下对象：

``` json
{
    "uid": "123456789",
    "gacha_type": "100",
    "time": "2021-02-14 21:50:21",
    "name": "神射手之誓",
    "lang": "zh-cn",
    "item_type": "武器",
    "rank_type": "3",
    "id": "1613307960000763747"
  }
```

::: warning 警告
同样地，上述对象的每个字段**必须**存在，每个字段**必须**要有值，没有值的**必须**补上。
:::

## 导出

暂时没有导出功能
